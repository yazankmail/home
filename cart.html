<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÿßŸÑÿ≥ŸÑÿ© - Wusooly</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
        
        :root {
            --bg-color: #F8F9FA; --header-bg: #FFFFFF; --text-main: #1C1C1E; --text-sub: #8A8A8E;
            --accent-color: #1C1C1E; --card-bg: #FFFFFF; --input-bg: #F2F2F7;
            --nav-bar-bg: #FFFFFF; --nav-text: #B0B0B0; --nav-active: #1C1C1E;
            --shadow-soft: 0 4px 20px rgba(0,0,0,0.03); --radius-lg: 20px;
        }

        body.dark-mode {
            --bg-color: #121212; --header-bg: #1C1C1E; --text-main: #FFFFFF; --text-sub: #A1A1A1;
            --accent-color: #FFFFFF; --card-bg: #2C2C2E; --input-bg: #3A3A3C;
            --nav-bar-bg: #2C2C2E; --nav-text: #636366; --nav-active: #FFFFFF;
            --shadow-soft: 0 4px 20px rgba(0,0,0,0.3);
        }

        * { box-sizing: border-box; transition: all 0.3s ease; -webkit-tap-highlight-color: transparent; }
        body { font-family: 'Cairo', sans-serif; margin: 0; background-color: var(--bg-color); color: var(--text-main); padding-bottom: 100px; overflow-x: hidden; }
        a { text-decoration: none; color: inherit; }

        header { padding: 15px 20px; background-color: var(--header-bg); position: sticky; top: 0; z-index: 100; display: flex; justify-content: center; align-items: center; box-shadow: 0 1px 0 rgba(0,0,0,0.05); }
        .logo-img { height: 28px; width: auto; object-fit: contain; }

        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        
        /* Cart Items */
        .cart-item {
            background: var(--card-bg);
            border-radius: 18px;
            padding: 15px;
            margin-bottom: 15px;
            display: flex; gap: 15px; align-items: center;
            box-shadow: var(--shadow-soft);
            position: relative;
        }

        .item-img {
            width: 90px; height: 90px;
            border-radius: 12px;
            background-color: var(--input-bg);
            object-fit: cover;
        }

        .item-details { flex-grow: 1; }
        .item-name { font-weight: 700; font-size: 15px; color: var(--text-main); margin-bottom: 5px; }
        .item-price { color: #ff4747; font-weight: 800; font-size: 16px; margin-bottom: 5px; }
        .item-meta { font-size: 12px; color: var(--text-sub); display: flex; gap: 10px; }

        .remove-btn {
            background: var(--input-bg); color: var(--text-sub);
            width: 35px; height: 35px; border-radius: 10px;
            border: none; cursor: pointer;
            display: flex; align-items: center; justify-content: center;
        }
        .remove-btn:hover { background: #ffebeb; color: #ff4747; }

        /* Summary Card */
        .summary-card {
            background: var(--card-bg);
            border-radius: var(--radius-lg);
            padding: 20px;
            box-shadow: var(--shadow-soft);
            margin-top: 30px;
        }
        .summary-row { display: flex; justify-content: space-between; margin-bottom: 10px; color: var(--text-sub); font-size: 14px; }
        .total-row { display: flex; justify-content: space-between; margin-top: 20px; padding-top: 15px; border-top: 1px dashed var(--text-sub); font-weight: 800; font-size: 18px; color: var(--text-main); }
        
        .checkout-btn {
            background: var(--accent-color); color: var(--bg-color);
            width: 100%; padding: 16px; border-radius: 15px;
            font-size: 16px; font-weight: bold; border: none; cursor: pointer;
            margin-top: 20px; display: flex; justify-content: space-between; align-items: center;
        }

        .empty-state { text-align: center; margin-top: 50px; }
        .shop-btn { background: var(--text-main); color: var(--bg-color); padding: 10px 30px; border-radius: 50px; margin-top: 20px; display: inline-block; }

        /* Floating Nav */
        .floating-nav { position: fixed; bottom: 20px; left: 20px; right: 20px; background-color: var(--nav-bar-bg); height: 70px; border-radius: 25px; display: flex; justify-content: space-around; align-items: center; padding: 0 10px; box-shadow: 0 10px 40px rgba(0,0,0,0.1); z-index: 999; border: 1px solid rgba(0,0,0,0.05); }
        .nav-link { display: flex; flex-direction: column; align-items: center; justify-content: center; color: var(--nav-text); text-decoration: none; transition: 0.3s; gap: 4px; }
        .nav-link.active { color: var(--nav-active); }
        .nav-link.active::after { content: ''; width: 5px; height: 5px; background: var(--nav-active); border-radius: 50%; margin-top: 2px; }
        .nav-link svg { width: 26px; height: 26px; stroke-width: 2; fill: none; stroke: currentColor; }
        .nav-link.active svg { fill: currentColor; stroke: none; }
        @media (min-width: 769px) { .floating-nav { display: none; } }

    </style>
</head>
<body>

    <header>
        <a href="index.html">
            <img id="app-logo" src="https://i.ibb.co/4R8nMfcs/image.png" alt="Wusooly" class="logo-img">
        </a>
    </header>

    <div class="container">
        <h2 style="margin-bottom: 20px; font-weight: 800;">ÿ≥ŸÑÿ© ÿßŸÑŸÖÿ¥ÿ™ÿ±Ÿäÿßÿ™</h2>

        <div id="cart-container">
            </div>

        <div id="cart-summary" class="summary-card" style="display:none;">
            <div class="summary-row"><span>ÿßŸÑŸÖÿ¨ŸÖŸàÿπ ÿßŸÑŸÅÿ±ÿπŸä</span><span id="subtotal">$0.00</span></div>
            <div class="summary-row"><span>ÿßŸÑÿ∂ÿ±Ÿäÿ®ÿ© (0%)</span><span>$0.00</span></div>
            <div class="total-row"><span>ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä</span><span id="total">$0.00</span></div>
            <button class="checkout-btn" onclick="alert('ÿ≥Ÿäÿ™ŸÖ ÿ™ŸÅÿπŸäŸÑ ÿßŸÑÿØŸÅÿπ ŸÇÿ±Ÿäÿ®ÿßŸã')">
                <span>ÿ•ÿ™ŸÖÿßŸÖ ÿßŸÑÿ¥ÿ±ÿßÿ°</span>
                <span id="btn-total">$0.00</span>
            </button>
        </div>
    </div>

    <div class="floating-nav">
        <a href="index.html" class="nav-link">
            <svg viewBox="0 0 24 24"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
        </a>
        <a href="#" class="nav-link">
            <svg viewBox="0 0 24 24"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
        </a>
        <a href="#" class="nav-link active">
            <svg viewBox="0 0 24 24" fill="currentColor"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
        </a>
        <a href="profile.html" class="nav-link">
            <svg viewBox="0 0 24 24"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
        </a>
    </div>

    <script>
        // Theme Logic
        const lightLogoUrl = "https://i.ibb.co/4R8nMfcs/image.png";
        const darkLogoUrl = "https://i.ibb.co/k6QxrwjQ/image.png";
        const logoImg = document.getElementById('app-logo');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');

        function applyTheme(isDark) {
            if (isDark) { document.body.classList.add('dark-mode'); logoImg.src = darkLogoUrl; }
            else { document.body.classList.remove('dark-mode'); logoImg.src = lightLogoUrl; }
        }
        applyTheme(systemPrefersDark.matches);
        systemPrefersDark.addEventListener('change', (e) => applyTheme(e.matches));

        // Cart Logic
        function renderCart() {
            const cart = JSON.parse(localStorage.getItem('wusooly_cart')) || [];
            const container = document.getElementById('cart-container');
            const summary = document.getElementById('cart-summary');
            
            container.innerHTML = '';
            let total = 0;

            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div style="font-size:50px; margin-bottom:10px;">üõí</div>
                        <h3 style="color:var(--text-sub)">ÿßŸÑÿ≥ŸÑÿ© ŸÅÿßÿ±ÿ∫ÿ©</h3>
                        <a href="index.html" class="shop-btn">ÿ™ÿ≥ŸàŸÇ ÿßŸÑÿ¢ŸÜ</a>
                    </div>`;
                summary.style.display = 'none';
                return;
            }

            summary.style.display = 'block';

            cart.forEach((item, index) => {
                total += item.price * item.qty;
                const html = `
                    <div class="cart-item">
                        <img src="${item.image}" class="item-img">
                        <div class="item-details">
                            <div class="item-name">${item.name}</div>
                            <div class="item-price">$${item.price}</div>
                            <div class="item-meta">ÿßŸÑŸÉŸÖŸäÿ©: ${item.qty}</div>
                        </div>
                        <button class="remove-btn" onclick="removeItem(${index})">‚úï</button>
                    </div>
                `;
                container.innerHTML += html;
            });

            document.getElementById('subtotal').innerText = '$' + total.toFixed(2);
            document.getElementById('total').innerText = '$' + total.toFixed(2);
            document.getElementById('btn-total').innerText = '$' + total.toFixed(2);
        }

        window.removeItem = function(index) {
            let cart = JSON.parse(localStorage.getItem('wusooly_cart'));
            cart.splice(index, 1);
            localStorage.setItem('wusooly_cart', JSON.stringify(cart));
            renderCart();
        }

        renderCart();
    </script>
</body>
</html>
